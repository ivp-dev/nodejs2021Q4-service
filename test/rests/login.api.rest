@hostname = http://localhost
@port = 4000
@host = {{hostname}}:{{port}}
@contentType = application/json

###

# @name login
POST {{host}}/login HTTP/1.1
Content-Type: {{contentType}}

{
  "login": "admin",
  "password": "admin"
}

### 

# @name getUsers

GET  {{host}}/users HTTP/1.1
Authorization: Bearer {{token}}

###

@token = {{login.response.body.token}}

# @name postUser
POST {{host}}/users HTTP/1.1
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "name": "vadim",
  "login": "vadim1",
  "password": "123"
}

###

@userId = {{postUser.response.body.id}}

# @name putUser
PUT {{host}}/users/{{userId}} HTTP/1.1
Content-Type: {{contentType}}
Authorization: Bearer {{token}}

{
  "name": "vadim",
  "login": "vadim1",
  "password": "12355"
}
